<ng-container *ngIf="task">
  <div class="task-container" (click)="modalService.openModal(task.title)">
    <h3>
      {{ task.title }}
    </h3>
    <p *ngIf="task.subtasks.length > 0; else elseBlock">
      {{ completedTasks }} of {{ task.subtasks.length }} subtasks
    </p>
    <ng-template #elseBlock>
      <p>No subtasks</p>
    </ng-template>
  </div>

  <app-modal
    *ngIf="modalService.modal === task.title"
    (dismiss)="modalService.closeModal()"
    [title]="task.title"
    type="task"
  >
    <p class="description">
      {{ task.description }}
    </p>

    <app-task-form
      [task]="task"
      [currentColumn]="currentColumn"
      [completedTasks]="completedTasks"
    ></app-task-form>
  </app-modal>
</ng-container>
